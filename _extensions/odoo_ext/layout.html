{% extends "basic/layout.html" %}
{% set html5_doctype = True %}
{% block scripts %}
  {{ super() }}
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
{% endblock %}

{% set classes = [] %}
{#}{% if pagename == master_doc %}
  {% set classes = classes + ['index'] %}
{% endif %}{#}

{% if 'code-column' in meta %}
  {% set classes = classes + ['has_code_col'] %}
{% endif %}

{% if 'classes' in meta %}
  {% set classes = classes + meta['classes'].split() %}
{% endif %}

{%- block linktags -%}
  {% for code, url in language_codes %}
    <link rel="alternate" hreflang="{{ code }}" href="{{ url }}" />
  {%- endfor %}
    <link rel="canonical" href="{{ canonical }}" />
  {{ super() }}
{%- endblock -%}

{#}
{%- block sidebar1 -%}{%- endblock -%}
{%- block sidebar2 -%}{%- endblock -%}
{%- block relbar1 -%}{%- endblock -%}
{%- block relbar2 -%}{%- endblock -%}
{#}

{# Google analytics key logic, to keep #}
{%- block footer -%}
  {%- if google_analytics_key -%}
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', '{{ google_analytics_key }}', 'auto');
    ga('set', 'anonymizeIp', true);
    ga('send','pageview');
    </script>
  {%- endif -%}
{%- endblock -%}

{%- block header -%}
  {% include "jinja_templates/navigation.html" %}
  <header class="o_main_header container {{ ' '.join(classes) }}">
    {% include "jinja_templates/searchbox.html" %}
    <div class="d-inline-flex">
        <div class="col-4">{% include "jinja_templates/language_switcher.html" %}</div>
        <div class="col">{% include "jinja_templates/version_switcher.html" %}</div>
    </div>
  </header>
{%- endblock -%}

{%- block content -%}
    <main class="container {{ ' '.join(classes) }}">
      {% if pagename != master_doc %}
        <div class="o_content row">
          {% include "jinja_templates/sidebar.html" %}
          <article class="doc-body {% if 'has-toc' in meta %}doc-toc{% endif %}{% if pagename in toc%}index-category{% endif %}">
      {% endif %}
            {% block body %} {% endblock %}
      {% if pagename != master_doc %}
          </article>
        </div>
      {% endif %}
        <div id="mask"></div>
      </main>

  <footer>
    {% include "jinja_templates/odoo_footer.html" %}
  </footer>
{%- endblock -%}